# Задача: Создание исчерпывающего каталога ошибок API

## I. Общая цель

Систематически проанализировать весь бэкенд-код, выявить **все возможные сценарии ошибок** для каждого эндпоинта и сгенерировать единый, структурированный отчёт. Этот документ (`Error-Dictionary.md`) станет основным источником информации для фронтенд-команды при обработке ошибок и отображении корректных сообщений пользователю.

---

## II. Методология анализа

AI-агент должен провести анализ, комбинируя статический и динамический подходы:

1.  **Анализ кода (Static Analysis)**:
    -   Проверить каждый эндпоинт и его внутреннюю логику.
    -   Идентифицировать все места, где генерируются HTTP-исключения или возвращаются ответы с кодами `4xx` и `5xx`.
    -   Обратить особое внимание на:
        -   Валидацию данных (ошибки формата, длины, уникальности).
        -   Бизнес-логику (например, попытка удалить несуществующий тег).
        -   Проверки прав доступа (авторизация).
        -   Обработку ошибок от внешних сервисов (например, отказ `imgbb`).

2.  **Динамическое тестирование (Dynamic Analysis)**:
    -   Симулировать отправку некорректных запросов на каждый эндпоинт для вызова ошибок.
    -   Примеры тестовых сценариев:
        -   Отправка запроса без `access_token` на защищённый эндпоинт.
        -   Отправка `expired` или невалидного токена.
        -   Отправка данных неверного формата (например, строка вместо числа).
        -   Попытка зарегистрировать пользователя с уже существующим `email`.
        -   Попытка обновить профиль, указав уже занятый `handle`.
        -   Превышение rate-limit'ов.
        -   Загрузка файла неверного типа или слишком большого размера.

---

## III. Формат итогового отчёта (`Error-Dictionary.md`)

Итоговый документ должен быть структурирован по эндпоинтам. Для каждой возможной ошибки необходимо указать следующую информацию в стандартизированном формате.

### Шаблон для описания ошибки:

```markdown
---
### **Endpoint**: `[METHOD] /path/to/endpoint`

#### 1. [Название ошибки или сценарий]

-   **HTTP Status**: `[Код, например, 400 Bad Request]`
-   **Причина**: *Краткое описание, почему эта ошибка возникает. (Например: "Пользователь пытается зарегистрироваться с email, который уже существует в системе.")*
-   **Пример ответа (JSON)**:
    ```json
    {
      "detail": "Email already registered"
    }
    ```

#### 2. [Следующая ошибка для этого эндпоинта]
-   **HTTP Status**: `...`
-   **Причина**: `...`
-   **Пример ответа (JSON)**: `...`